<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Steel Finish Celebration Checkbox</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <label class="celebrate-checkbox">
      <input type="checkbox" id="cb" />
      <span class="checkmark"></span>
      <span class="burst">
        <span></span><span></span><span></span><span></span> <span></span
        ><span></span><span></span><span></span>
      </span>
    </label>

    <script>
      const checkbox = document.getElementById("cb");
      const burstSpans = document.querySelectorAll(".burst span");

      checkbox.addEventListener("change", () => {
        if (checkbox.checked) {
          burstSpans.forEach((span) => {
            span.style.animation = "none";
            span.offsetHeight; // Trigger reflow
            span.style.animation = "";
          });
        }
      });
    </script>
  </body>
</html>

<style>
  body {
    background-color: #121212;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

  .celebrate-checkbox {
    position: relative;
    width: 40px;
    height: 40px;
    cursor: pointer;
    display: inline-block;
  }

  .celebrate-checkbox input {
    opacity: 0;
    width: 0;
    height: 0;
    position: absolute;
  }

  .checkmark {
    position: absolute;
    top: 0;
    left: 0;
    width: 40px;
    height: 40px;
    background-color: #222;
    border-radius: 10px;
    border: 2px solid #555;
    box-shadow: inset 0 1px 4px rgba(255, 255, 255, 0.1);
    transition: background-color 0.3s ease, border-color 0.3s ease;
    z-index: 2;
  }

  .celebrate-checkbox:hover .checkmark {
    border-color: #888;
    box-shadow: 0 0 12px #888, inset 0 1px 5px rgba(255, 255, 255, 0.15);
  }

  .celebrate-checkbox input:checked ~ .checkmark {
    background-color: #9ca3af;
    border-color: #9ca3af;
    box-shadow: 0 0 25px #b0bacd, inset 0 0 15px rgba(188, 193, 197, 0.8);
  }

  .celebrate-checkbox .checkmark::after {
    content: "";
    position: absolute;
    display: none;
    left: 12px;
    top: 7px;
    width: 10px;
    height: 18px;
    border: solid white;
    border-width: 0 4px 4px 0;
    transform: rotate(45deg);
    z-index: 3;
  }

  .celebrate-checkbox input:checked ~ .checkmark::after {
    display: block;
  }

  .burst {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    pointer-events: none;
    transform: translate(-50%, -50%);
    z-index: 1;
  }

  .burst span {
    position: absolute;
    display: block;
    width: 32px;
    height: 32px;
    background: linear-gradient(145deg, #d1d5db, #6b7280 70%, #9ca3af);
    border-radius: 50%;
    opacity: 0;
    filter: drop-shadow(0 0 5px #a3a9b7);
    box-shadow: inset 1px 1px 3px #f0f4f8, inset -1px -1px 3px #4b5563,
      0 0 6px #6b7280;
    animation: burstAnimation 900ms forwards;
  }

  .burst span:nth-child(1) {
    top: 0;
    left: 0;
    --x: -1;
    --y: -1;
  }
  .burst span:nth-child(2) {
    top: 0;
    right: 0;
    --x: 1;
    --y: -1;
  }
  .burst span:nth-child(3) {
    bottom: 0;
    left: 0;
    --x: -1;
    --y: 1;
  }
  .burst span:nth-child(4) {
    bottom: 0;
    right: 0;
    --x: 1;
    --y: 1;
  }
  .burst span:nth-child(5) {
    top: 10px;
    left: 20px;
    --x: 0;
    --y: -1;
  }
  .burst span:nth-child(6) {
    top: 20px;
    right: 10px;
    --x: 1;
    --y: 0;
  }
  .burst span:nth-child(7) {
    bottom: 15px;
    left: 15px;
    --x: -1;
    --y: 0;
  }
  .burst span:nth-child(8) {
    bottom: 20px;
    right: 20px;
    --x: 0;
    --y: 1;
  }

  @keyframes burstAnimation {
    0% {
      opacity: 1;
      transform: translate(0, 0) scale(1);
    }
    100% {
      opacity: 0;
      transform: translate(calc(var(--x) * 40px), calc(var(--y) * 40px))
        scale(0);
    }
  }
</style>
